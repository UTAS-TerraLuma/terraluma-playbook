# Git 101

This document is a guide to setting up full fat vanilla Git. A base installation of Git is the most robust and consistent approach to source code management and version control.

> [!NOTE] Alternative implementations
>
> [GitHub Desktop](https://desktop.github.com/download/) is one way of installing a striped down and intuitive version of Git with streamlined GitHub authorisation. However, it is recommended that team members install the full version of `git` for completeness and consistency. With a full installation of `git` you can access the full set of tools and configurations. A default installation can be picked up by any third party application.

## Installation

### Windows

> [!WARNING]
> Elevated (admin) priviliges required to install `git`

1. Via GUI installer from [git-scm.com](https://git-scm.com/downloads/win)
2. Command line

```powershell
# with winget
winget install --id Git.Git -e --source winget

# with chocolatey
choco install git.install
```

<details>
<summary>macOS & Linux</summary>

### macOS

> [!NOTE]
> macOS is packaged with `git` out of the box. However, it is recommended to install the most recent release alongside the deault version.

```zsh
# with homebrew
brew install git
```

### Linux

```bash
# with your distro's package manager
sudo apt-get install git
sudo dnf install git
```

</details>

## Configuration

### Reset config

Git can be configured in three locations and is used according to a heirachy.

`Local (repo-level) > Global (user-level) > System (system-level)`

Git looks for `.gitconfig` inside the current repo, then it looks for the global config, then system.

If you are unsure about how you installed and configured `git` previously then it might be worthwhile resetting all your configuration to ensure nothing is clashing and starting fresh. Config will persist between upgrades.

1. In a new terminal window (i.e. `powershell`, `bash`, `zsh`) run the reset commands for each scope.
2. Confirm config is reset by listing all from each scope.

```bash

# reset
git config --global --unset-all <key>
git config --system --unset-all <key>
git config --local --unset-all <key>

# confirm reset
git config list
```

### New config

#### User

> [!NOTE]
> This name and email is [embedded on each commit](https://docs.github.com/en/account-and-profile/how-tos/setting-up-and-managing-your-personal-account-on-github/managing-email-preferences/setting-your-commit-email-address#setting-your-commit-email-address-in-git), including on GitHub. You may want to obfuscate your email using the [GitHub noreply email for your account](https://docs.github.com/en/account-and-profile/reference/email-addresses-reference#your-noreply-email-address)

```bash
git config --global user.name "Your Name"
git config --global user.email "your.email@domain.com"
```

#### Default branch

To match GitHub default.

```powershell
git config --global init.defaultBranch main
```

## Connect to GitHub

### Via SHH

> [!WARNING] Elevated terminal required (admin/sudo)

This section summarises the [GitHub Docs](https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent), which contain much more detail.

1. Generate a new key

    ```powershell
    ssh-keygen -t ed25519 -C "your_email@example.com"
    # note: the -C flag is a comment for you to identify the key. It does not have to be your email and can be something more descriptive such as:
    ssh-keygen -t ed25519 -C "computername:github"
    ```

2. Write the key to a file.
    Use something descriptive.

    ```powershell
    "$HOME/.ssh/github-key
    ```

3. Enter a passphrase if you want one.
    > Press enter to skip
4. Set up ssh-agent
